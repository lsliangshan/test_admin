<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title><%=appName%> | Responsive Web Admin App with AngularJS And Bootstrap</title>
  <meta name="description"
        content="app, web app, responsive, responsive layout, admin, admin panel, admin dashboard, flat, flat ui, ui kit, AngularJS, ui route, charts, widgets, components"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
  <!--<link rel="stylesheet" href="/Static/bower_components/animate.css/animate.css" type="text/css" />-->
  <link rel="stylesheet" href="/Static/bower_components/bootstrap/dist/css/bootstrap.css" type="text/css"/>
  <!--<link rel="stylesheet" href="/Static/bower_components/bootstrap-additions/dist/bootstrap-additions.css" type="text/css" />-->
  <!--<link rel="stylesheet" href="/Static/bower_components/font-awesome/css/font-awesome.css" type="text/css" />-->
  <!--<link rel="stylesheet" href="/Static/styles/themify-icons.css" type="text/css" />-->
  <link rel="stylesheet" href="/Static/styles/app.css" type="text/css"/>
  <style>
    body {
      background-color: #393939;
    }
    .container {
      width: 100%;
      padding: 0;

      opacity: 0;
      -webkit-transform: translate3d(0, 50px, 0);
      -moz-transform: translate3d(0, 50px, 0);
      -o-transform: translate3d(0, 50px, 0);
      transform: translate3d(0, 50px, 0);
      -webkit-transition: opacity .5s ease-in-out, -webkit-transform .5s ease-in-out;
      -moz-transition: opacity .5s ease-in-out, -moz-transform .5s ease-in-out;
      -o-transition: opacity .5s ease-in-out, -o-transform .5s ease-in-out;
      transition: opacity .5s ease-in-out, transform .5s ease-in-out;
    }
  </style>
</head>
<body>
<div class="container">
  <div class="center-block w-auto-xs m-b-lg" style="margin-top: 15%; padding: 16px 32px; background-color: whitesmoke; width: 40%; border-radius: 8px;">
    <div class="text-2x m-v-lg text-primary"><i class="glyphicon glyphicon-th-large text-xl"></i> <%=appName%></div>
    <div class="m-b">
      <p class="text-xs m-t">找回密码</p>
    </div>
    <form name="reset">
      <input type="hidden" name="email" value="<%=email%>"/>
      <div class="form-group">
        <input type="password" name="password" placeholder="新密码" class="form-control" required>
      </div>
      <div class="form-group">
        <input type="password" name="repassword" placeholder="确认密码" class="form-control" required>
      </div>
      <button type="button" id="send" class="btn btn-primary p-h-md m-v-sm" title="Hey!" data-content="Instructions sent to your email." data-type="info" data-container="#alerts-container" bs-alert >给朕马上找回</button>
    </form>
    <p id="alerts-container"></p>
    <p class="m-v-sm"><a href="/Public/signin">返回登录</a></p>
  </div>
</div>

<div class="text-xs" style="position: fixed; bottom: 0; width: 100%; text-align: center; padding: 8px 0; color: whitesmoke; background-color: #393939;">
  <div class="hidden-xs hidden-sm text-muted">
    <strong><%=appName%></strong> - Built with AngularJS &amp; Bootstrap &copy; Copyright 2014
  </div>
</div>
</body>
<script src="/Static/bower_components/jquery/dist/jquery.min.js"></script>
<script>
  window.onload = function () {
    setTimeout(function () {
      var _target = document.querySelector(".container");
      _target.style.opacity = 1;
      _target.style.webkitTransform = "translate3d(0, 0, 0)";
      _target.style.mozTransform = "translate3d(0, 0, 0)";
      _target.style.oTransform = "translate3d(0, 0, 0)";
      _target.style.transform = "translate3d(0, 0, 0)";
    }, 20);
  };

  var _send = document.querySelector("#send"),
          _mail = document.querySelector("input[name='email']"),
          _password = document.querySelector("input[name='password']"),
          _repassword = document.querySelector("input[name='repassword']");
  _send.addEventListener("click", function () {
    $.post("/Public/repassword", {
        email: _mail && _mail.value.trim(),
        password: _password && _password.value.trim()
    }, function (res) {
      alert(JSON.stringify(res));
    });
  }, false);
</script>
</html>
