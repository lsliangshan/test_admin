/*! test_admin 2015-12-02 */
var app=angular.module("app").config(["$controllerProvider","$compileProvider","$filterProvider","$provide",function(a,b,c,d){app.controller=a.register,app.directive=b.directive,app.filter=c.register,app.factory=d.factory,app.service=d.service,app.constant=d.constant,app.value=d.value}]).config(["$translateProvider",function(a){a.useStaticFilesLoader({prefix:"/Static/i18n/",suffix:".js"}),a.preferredLanguage("en"),a.useLocalStorage()}]).config(["$datepickerProvider",function(a){angular.extend(a.defaults,{dateFormat:"yyyy-MM-dd",startWeek:1,autoclose:!0,dateType:"iso"})}]).config(["$timepickerProvider",function(a){angular.extend(a.defaults,{timeFormat:"HH:mm",autoclose:!0,length:7})}]).config(["$dropdownProvider",function(a){angular.extend(a.defaults,{animation:"am-flip-x"})}]).config(["$asideProvider",function(a){angular.extend(a.defaults,{animation:"am-fade-and-slide-bottom",placement:"bottom",container:"body",title:"提示"})}]).config(["$modalProvider",function(a){angular.extend(a.defaults,{animation:"am-fade-and-scale",backdropAnimation:"am-fade",title:"提示",container:"body"})}]).config(["$tooltipProvider",function(a){angular.extend(a,{animation:"am-fade",trigger:"hover",container:"body"})}]);
/*! test_admin 2015-12-02 */
"use strict";angular.module("ui.load",[]).service("uiLoad",["$document","$q","$timeout",function(a,b,c){var d=[],e=!1,f=b.defer();this.load=function(a){a=angular.isArray(a)?a:a.split(/\s+/);var b=this;return e||(e=f.promise),angular.forEach(a,function(a){e=e.then(function(){return a.indexOf(".css")>=0?b.loadCSS(a):b.loadScript(a)})}),f.resolve(),e},this.loadScript=function(e){if(d[e])return d[e].promise;var f=b.defer(),g=a[0].createElement("script");return g.src=e,g.onload=function(a){c(function(){f.resolve(a)})},g.onerror=function(a){c(function(){f.reject(a)})},a[0].body.appendChild(g),d[e]=f,f.promise},this.loadCSS=function(e){if(d[e])return d[e].promise;var f=b.defer(),g=a[0].createElement("link");return g.rel="stylesheet",g.type="text/css",g.href=e,g.onload=function(a){c(function(){f.resolve(a)})},g.onerror=function(a){c(function(){f.reject(a)})},a[0].head.appendChild(g),d[e]=f,f.promise}}]);
/*! test_admin 2015-12-02 */
"use strict";angular.module("app").run(["$rootScope","$state","$stateParams",function(a,b,c){a.$state=b,a.$stateParams=c}]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("#"),a.state("app",{"abstract":!0,url:"/app",views:{}}).state("app.dashboard",{url:"/dashboard",templateUrl:"/Static/views/pages/dashboard.html",resolve:{deps:["$ocLazyLoad",function(a){return a.load(["/Static/scripts/controllers/chart.js","/Static/scripts/controllers/vectormap.js"])}]}}).state("mail",{url:"/mail",views:{"":{templateUrl:"/Static/views/layout.html"},aside:{templateUrl:"/Static/views/partials/aside.nav.mail.html"}}}).state("mail.inbox",{url:"/inbox",templateUrl:"/Static/views/pages/mail.html"})}]);
/*! test_admin 2015-12-02 */
"use strict";angular.module("app").config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("ui",{url:"/ui",views:{}}).state("ui.component",{url:"/component",template:"<div ui-view></div>"}).state("ui.component.arrow",{url:"/arrow",templateUrl:"/Static/views/ui/component/arrow.html"}).state("ui.component.badge-label",{url:"/badge-label",templateUrl:"/Static/views/ui/component/badge-label.html"}).state("ui.component.button",{url:"/button",templateUrl:"/Static/views/ui/component/button.html"}).state("ui.component.color",{url:"/color",templateUrl:"/Static/views/ui/component/color.html"}).state("ui.component.grid",{url:"/grid",templateUrl:"/Static/views/ui/component/grid.html"}).state("ui.component.icon",{url:"/icons",templateUrl:"/Static/views/ui/component/icon.html"}).state("ui.component.list",{url:"/list",templateUrl:"/Static/views/ui/component/list.html"}).state("ui.component.nav",{url:"/nav",templateUrl:"/Static/views/ui/component/nav.html"}).state("ui.component.panel",{url:"/panel",templateUrl:"/Static/views/ui/component/panel.html"}).state("ui.component.progressbar",{url:"/progressbar",templateUrl:"/Static/views/ui/component/progressbar.html"}).state("ui.component.streamline",{url:"/streamline",templateUrl:"/Static/views/ui/component/streamline.html"}).state("ui.component.timeline",{url:"/timeline",templateUrl:"/Static/views/ui/component/timeline.html"}).state("ui.angular-strap",{url:"/angular-strap",template:'<div ui-view class="fade-in"></div>',resolve:{deps:["$ocLazyLoad",function(a){return a.load(["/Static/scripts/controllers/angular-strap.js"])}]}}).state("ui.angular-strap.affix",{url:"/affix",templateUrl:"/Static/views/ui/angular-strap/affix.html"}).state("ui.angular-strap.alert",{url:"/alert",templateUrl:"/Static/views/ui/angular-strap/alert.html"}).state("ui.angular-strap.aside",{url:"/aside",templateUrl:"/Static/views/ui/angular-strap/aside.html"}).state("ui.angular-strap.button",{url:"/button",templateUrl:"/Static/views/ui/angular-strap/button.html"}).state("ui.angular-strap.collapse",{url:"/collapse",templateUrl:"/Static/views/ui/angular-strap/collapse.html"}).state("ui.angular-strap.dropdown",{url:"/dropdown",templateUrl:"/Static/views/ui/angular-strap/dropdown.html"}).state("ui.angular-strap.datepicker",{url:"/datepicker",templateUrl:"/Static/views/ui/angular-strap/datepicker.html"}).state("ui.angular-strap.timepicker",{url:"/timepicker",templateUrl:"/Static/views/ui/angular-strap/timepicker.html"}).state("ui.angular-strap.modal",{url:"/modal",templateUrl:"/Static/views/ui/angular-strap/modal.html"}).state("ui.angular-strap.select",{url:"/select",templateUrl:"/Static/views/ui/angular-strap/select.html"}).state("ui.angular-strap.tab",{url:"/tab",templateUrl:"/Static/views/ui/angular-strap/tab.html"}).state("ui.angular-strap.tooltip",{url:"/tooltip",templateUrl:"/Static/views/ui/angular-strap/tooltip.html"}).state("ui.angular-strap.popover",{url:"/popover",templateUrl:"/Static/views/ui/angular-strap/popover.html"}).state("ui.angular-strap.typeahead",{url:"/typehead",templateUrl:"/Static/views/ui/angular-strap/typeahead.html"}).state("ui.form",{url:"/form",template:"<div ui-view></div>"}).state("ui.form.layout",{url:"/layout",templateUrl:"/Static/views/ui/form/layout.html"}).state("ui.form.element",{url:"/element",templateUrl:"/Static/views/ui/form/element.html"}).state("ui.form.validation",{url:"/validation",templateUrl:"/Static/views/ui/form/validation.html"}).state("ui.form.select",{url:"/select",templateUrl:"/Static/views/ui/form/select.html",controller:"SelectCtrl",resolve:{deps:["$ocLazyLoad",function(a){return a.load("/Static/scripts/controllers/select.js")}]}}).state("ui.form.editor",{url:"/editor",templateUrl:"/Static/views/ui/form/editor.html",controller:"EditorCtrl",resolve:{deps:["$ocLazyLoad",function(a){return a.load("/Static/scripts/controllers/editor.js")}]}}).state("ui.form.slider",{url:"/slider",templateUrl:"/Static/views/ui/form/slider.html",controller:"SliderCtrl",resolve:{deps:["$ocLazyLoad",function(a){return a.load("/Static/scripts/controllers/slider.js")}]}}).state("ui.form.tree",{url:"/tree",templateUrl:"/Static/views/ui/form/tree.html",controller:"TreeCtrl",resolve:{deps:["$ocLazyLoad",function(a){return a.load("/Static/scripts/controllers/tree.js")}]}}).state("ui.form.file-upload",{url:"/file-upload",templateUrl:"/Static/views/ui/form/file-upload.html",controller:"UploadCtrl",resolve:{deps:["$ocLazyLoad",function(a){return a.load("angularFileUpload").then(function(){return a.load("/Static/scripts/controllers/upload.js")})}]}}).state("ui.form.image-crop",{url:"/image-crop",templateUrl:"/Static/views/ui/form/image-crop.html",controller:"ImgCropCtrl",resolve:{deps:["$ocLazyLoad",function(a){return a.load("ngImgCrop").then(function(){return a.load("/Static/scripts/controllers/imgcrop.js")})}]}}).state("ui.table",{url:"/table",template:"<div ui-view></div>"}).state("ui.table.static",{url:"/static",templateUrl:"/Static/views/ui/table/static.html"}).state("ui.table.smart",{url:"/smart",templateUrl:"/Static/views/ui/table/smart.html",controller:"TableCtrl",resolve:{deps:["$ocLazyLoad",function(a){return a.load("smart-table").then(function(){return a.load("/Static/scripts/controllers/table.js")})}]}}).state("ui.chart",{url:"/chart",templateUrl:"/Static/views/ui/chart/chart.html",resolve:{deps:["$ocLazyLoad",function(a){return a.load("/Static/scripts/controllers/chart.js")}]}}).state("ui.map",{url:"/map",template:"<div ui-view></div>"}).state("ui.map.google",{url:"/google",templateUrl:"/Static/views/ui/map/google.html",controller:"GoogleMapCtrl",resolve:{deps:["$ocLazyLoad",function(a){return a.load(["ui.map",{files:["/Static/scripts/controllers/load-google-maps.js","/Static/scripts/controllers/googlemap.js"]}]).then(function(){return loadGoogleMaps()})}]}}).state("ui.map.vector",{url:"/vector",templateUrl:"/Static/views/ui/map/vector.html",controller:"VectorMapCtrl",resolve:{deps:["$ocLazyLoad",function(a){return a.load("/Static/scripts/controllers/vectormap.js")}]}})}]);
/*! test_admin 2015-12-02 */
"use strict";angular.module("app").config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("page",{url:"/page",views:{"":{templateUrl:"/Static/views/layout.html"},aside:{templateUrl:"/Static/views/partials/aside.nav.pages.html"}}}).state("page.profile",{url:"/profile",templateUrl:"/Static/views/pages/profile.html"}).state("page.settings",{url:"/settings",templateUrl:"/Static/views/pages/settings.html"}).state("page.blank",{url:"/blank",templateUrl:"/Static/views/pages/blank.html"}).state("page.document",{url:"/document",templateUrl:"/Static/views/pages/document.html"}).state("signin",{url:"/signin",templateUrl:"/Static/views/pages/signin.html"}).state("signup",{url:"/signup",templateUrl:"/Static/views/pages/signup.html"}).state("forgot-password",{url:"/forgot-password",templateUrl:"/Static/views/pages/forgot-password.html"}).state("lockme",{url:"/lockme",templateUrl:"/Static/views/pages/lockme.html"}).state("404",{url:"/404",templateUrl:"/Static/views/pages/404.html"}).state("505",{url:"/505",templateUrl:"/Static/views/pages/505.html"})}]);
/*! test_admin 2015-12-02 */
angular.module("app").constant("MODULE_CONFIG",[{name:"ui.select",module:!0,files:["/Static/bower_components/angular-ui-select/dist/select.min.js","/Static/bower_components/angular-ui-select/dist/select.min.css"]},{name:"textAngular",module:!0,files:["/Static/bower_components/textAngular/dist/textAngular-sanitize.min.js","/Static/bower_components/textAngular/dist/textAngular.min.js"]},{name:"vr.directives.slider",module:!0,files:["/Static/bower_components/venturocket-angular-slider/build/angular-slider.min.js","/Static/bower_components/venturocket-angular-slider/build/angular-slider.css"]},{name:"angularBootstrapNavTree",module:!0,files:["/Static/bower_components/angular-bootstrap-nav-tree/dist/abn_tree_directive.js","/Static/bower_components/angular-bootstrap-nav-tree/dist/abn_tree.css"]},{name:"angularFileUpload",module:!0,files:["/Static/bower_components/angular-file-upload/angular-file-upload.js"]},{name:"ngImgCrop",module:!0,files:["/Static/bower_components/ngImgCrop/compile/minified/ng-img-crop.js","/Static/bower_components/ngImgCrop/compile/minified/ng-img-crop.css"]},{name:"smart-table",module:!0,files:["/Static/bower_components/angular-smart-table/dist/smart-table.min.js"]},{name:"ui.map",module:!0,files:["/Static/bower_components/angular-ui-map/ui-map.js"]},{name:"easyPieChart",module:!1,files:["/Static/bower_components/jquery.easy-pie-chart/dist/jquery.easypiechart.fill.js"]},{name:"sparkline",module:!1,files:["/Static/bower_components/jquery.sparkline/dist/jquery.sparkline.retina.js"]},{name:"plot",module:!1,files:["/Static/bower_components/flot/jquery.flot.js","/Static/bower_components/flot/jquery.flot.resize.js","/Static/bower_components/flot/jquery.flot.pie.js","/Static/bower_components/flot.tooltip/js/jquery.flot.tooltip.min.js","/Static/bower_components/flot-spline/js/jquery.flot.spline.min.js","/Static/bower_components/flot.orderbars/js/jquery.flot.orderBars.js"]},{name:"vectorMap",module:!1,files:["/Static/bower_components/bower-jvectormap/jquery-jvectormap-1.2.2.min.js","/Static/bower_components/bower-jvectormap/jquery-jvectormap-1.2.2.css","/Static/bower_components/bower-jvectormap/jquery-jvectormap-world-mill-en.js","/Static/bower_components/bower-jvectormap/jquery-jvectormap-us-aea-en.js"]},{name:"loadStyleCss",module:!1,files:["/Static/styles/style.css"]},{name:"loadAjaxForm",module:!1,files:["/Static/scripts/jquery.ajaxform.js"]},{name:"jDatetime",module:!1,files:["/Static/bower_components/date-time/bootstrap-datetimepicker.min.css","/Static/bower_components/date-time/bootstrap-datetimepicker.min.js","/Static/bower_components/date-time/locales/bootstrap-datetimepicker.zh-CN.js"]},{name:"jColorpicker",module:!1,files:["/Static/bower_components/bootstrap/dist/js/bootstrap.min.js","/Static/bower_components/bootstrap-colorpicker/bootstrap.colorpickersliders.min.css","/Static/bower_components/bootstrap-colorpicker/tinycolor.min.js","/Static/bower_components/bootstrap-colorpicker/bootstrap.colorpickersliders.min.js"]},{name:"jSelect2",module:!1,files:["/Static/bower_components/select2/dist/css/select2.min.css","/Static/bower_components/select2/dist/js/select2.full.js"]}]).config(["$ocLazyLoadProvider","MODULE_CONFIG",function(a,b){a.config({debug:!1,events:!1,modules:b})}]);
/*! test_admin 2015-12-02 */
"use strict";angular.module("app").directive("lazyLoad",["MODULE_CONFIG","$ocLazyLoad","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f,g=d.contents().remove();return function(d,e,h){angular.forEach(a,function(a){a.name==h.lazyLoad&&(f=a.module?a.name:a.files)}),b.load(f).then(function(){c(g)(d,function(a,b){e.append(a)})})}}}}]);
/*! test_admin 2015-12-02 */
"use strict";angular.module("ui.jp",["oc.lazyLoad","ui.load"]).value("uiJpConfig",{}).directive("uiJp",["uiJpConfig","MODULE_CONFIG","$ocLazyLoad","uiLoad","$timeout",function(a,b,c,d,e){return{restrict:"A",compile:function(c,f){var g=a&&a[f.uiJp];return function(a,c,f){function h(){var b=[];return f.uiOptions?(b=a.$eval("["+f.uiOptions+"]"),angular.isObject(g)&&angular.isObject(b[0])&&(b[0]=angular.extend({},g,b[0]))):g&&(b=[g]),b}function i(){e(function(){c[f.uiJp]&&c[f.uiJp].apply(c,h())},0,!1)}function j(){f.uiRefresh&&a.$watch(f.uiRefresh,function(){i()})}f.ngModel&&c.is("select,input,textarea")&&c.bind("change",function(){c.trigger("input")});var k=!1;angular.forEach(b,function(a){a.name==f.uiJp&&(k=a.files)}),k?d.load(k).then(function(){i(),j()})["catch"](function(){}):(i(),j())}}}}]);
/*! test_admin 2015-12-02 */
"use strict";angular.module("app").directive("uiNav",["$timeout",function(a){return{restrict:"AC",link:function(b,c,d){a(function(){angular.element(c.find("li.active a").attr("data-id")).css({display:"block"})},1),c.find("a").bind("click",function(c){var d=angular.element(this).parent();d.parent().find("li").removeClass("active"),d.toggleClass("active"),d.find("ul")&&(b.app.asideCollapse=!1);var e=angular.element(this.getAttribute("data-id")),f=angular.element(this).parent().parent().parent().parent();f.find("#profile-container .profile-pane").removeClass("active"),f.find("#profile-container .profile-pane").css({display:"none"}),e.css({display:"block"}),a(function(){e.toggleClass("active")},20)})}}}]).directive("ngThumb",["$window",function(a){var b={support:!(!a.FileReader||!a.CanvasRenderingContext2D),isFile:function(b){return angular.isObject(b)&&b instanceof a.File},isImage:function(a){var b="|"+a.type.slice(a.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(b)}};return{restrict:"A",template:"<canvas/>",link:function(a,c,d){function e(a){var b=new Image;b.onload=f,b.src=a.target.result}function f(){var a=g.width||this.width/this.height*g.height,b=g.height||this.height/this.width*g.width;h.attr({width:a,height:b}),h.css({"max-width":"100%"}),h[0].getContext("2d").drawImage(this,0,0,a,b)}if(b.support){var g=a.$eval(d.ngThumb);if(b.isFile(g.file)&&b.isImage(g.file)){var h=c.find("canvas"),i=new FileReader;i.onload=e,i.readAsDataURL(g.file)}}}}}]);
/*! test_admin 2015-12-02 */
"use strict";angular.module("app").directive("uiFullscreen",["$ocLazyLoad","$document",function(a,b){return{restrict:"AC",link:function(c,d,e){d.addClass("hide"),a.load("/Static/bower_components/screenfull/dist/screenfull.min.js").then(function(){screenfull.enabled&&d.removeClass("hide"),d.bind("click",function(){var a;e.target&&(a=angular.element(e.target)[0]),screenfull.toggle(a)});var a=angular.element(b[0].body);b.on(screenfull.raw.fullscreenchange,function(){screenfull.isFullscreen?a.addClass("fullscreen"):a.removeClass("fullscreen")})})}}}]);
/*! test_admin 2015-12-02 */
"use strict";angular.module("app").directive("uiScroll",["$location","$anchorScroll",function(a,b){return{restrict:"AC",replace:!0,link:function(c,d,e){d.bind("click",function(c){a.hash(e.uiScroll),b()})}}}]);
/*! test_admin 2015-12-02 */
"use strict";angular.module("app").controller("MainCtrl",["$scope","$translate","$localStorage","$window","$compile","FileUploader","$alert","cfpLoadingBar",function(a,b,c,d,e,f,g,h){function i(a){var b=a.navigator.userAgent||a.navigator.vendor||a.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(b)}h.start(),a.lsAlert=function(a,b,c){},a.dropdown=[{text:'<i class="fa fa-fw fa-download"></i>&nbsp;Another action',href:"#anotherAction"},{text:'<i class="fa fa-fw fa-globe"></i>&nbsp;Display an alert',click:'$alert("Holy guacamole!")'},{text:'<i class="fa fa-fw fa-external-link"></i>&nbsp;External link',href:"/auth/facebook",target:"_self"},{divider:!0},{text:"Separated link",href:"#separatedLink"}],a.ajaxFormSubmit=function(a,b,c,d){b&&"string"==typeof b&&$("#"+a).ajaxSubmit({url:b,dataType:"json",method:"post",data:c||{},beforeSubmit:function(){},success:function(a){d&&d(a)}})},a.uploaderInfo={};var j=a.uploader=new f({url:"/Index/upload",autoUpload:!0,removeAfterUpload:!0,queueLimit:1,filter:"imageFilter"});j.filters.push({name:"imageFilter",fn:function(a,b){var c="|"+a.type.slice(a.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(c)}}),j.onAfterAddingFile=function(b){a.uploader.queue[0].progress=0},j.onSuccessItem=function(a,b,c,d){},j.onCompleteItem=function(b,c,d,f){setTimeout(function(){j.queue=[],$(".progress").eq(0).html(e($(".progress").eq(0).html())(a)),$(".progress").eq(0).find(".progress-bar").eq(0).css({width:"0%"}),console.log($(".progress").eq(0).html())},3e3),a.uploaderInfo=c.data};var k=!!navigator.userAgent.match(/MSIE/i)||!!navigator.userAgent.match(/Trident.*rv:11\./);k&&angular.element(d.document.body).addClass("ie"),i(d)&&angular.element(d.document.body).addClass("smart"),a.app={name:_appName,version:"3.1",color:{primary:"#155abb",info:"#2772ee",success:"#4bb622",warning:"#f88311",danger:"#e11144",inverse:"#a66bee",light:"#f1f2f3",dark:"#202a3a"},settings:{headerColor:"bg-primary",headerFixed:!0,headerShadow:!0,asideColor:"bg-dark lt",asideTop:!1}},a.author={name:_username},a.options={headerColor:["bg-primary lt","bg-primary ","bg-primary dk","bg-info lt","bg-info","bg-info dk","bg-success lt","bg-success ","bg-success dk","bg-inverse lt","bg-inverse ","bg-inverse dk","bg-dark lt","bg-dark","bg-dark dk ","bg-black ","bg-black dk","bg-white box-shadow-md"],asideColor:["bg-primary dk","bg-info dk","bg-success dk","bg-dark lt","bg-dark","bg-dark dk","bg-black lt","bg-black","bg-black dk","bg-white","bg-light","bg-light dk"]},a.setHeaderColor=function(b){a.app.settings.headerColor=b},a.setAsideColor=function(b){a.app.settings.asideColor=b},angular.isDefined(c.appSettings)?a.app.settings=c.appSettings:c.appSettings=a.app.settings,a.$watch("app.settings",function(){c.appSettings=a.app.settings},!0),a.langs={en:"English",zh_CN:"中文"},a.selectLang=a.langs[b.proposedLanguage()]||"English",a.setLang=function(c){a.selectLang=a.langs[c],b.use(c)},$.pjax.defaults.type="get",$(document).pjax("a[data-pjax]","#p-container"),$(document).on("pjax:start",function(){}),$(document).on("pjax:complete",function(){$("#p-container").html(e($("#p-container").html())(a)),setTimeout(function(){var a=document.querySelector("#p-container .container");a.style.opacity=1,a.style.webkitTransform="translate3d(0, 0, 0)",a.style.mozTransform="translate3d(0, 0, 0)",a.style.oTransform="translate3d(0, 0, 0)",a.style.transform="translate3d(0, 0, 0)"},20)}),a.modifyProfile=function(){a.ajaxFormSubmit("profile-form","/Public/modifyProfile",{},function(b){a.lsAlert(b.errmsg),b.data.referer&&(location.href=b.data.referer)})}}]);
/*! test_admin 2015-12-02 */
!function(a){function b(b,d,e){var f=this;return this.on("click.pjax",b,function(b){var g=a.extend({},p(d,e));g.container||(g.container=a(this).attr("data-pjax")||f),c(b,g)})}function c(b,c,d){d=p(c,d);var f=b.currentTarget;if("A"!==f.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(b.which>1||b.metaKey||b.ctrlKey||b.shiftKey||b.altKey||location.protocol!==f.protocol||location.hostname!==f.hostname||f.href.indexOf("#")>-1&&o(f)==o(location)||b.isDefaultPrevented())){var g={url:f.href,container:a(f).attr("data-pjax"),target:f},h=a.extend({},g,d),i=a.Event("pjax:click");a(f).trigger(i,[h]),i.isDefaultPrevented()||(e(h),b.preventDefault(),a(f).trigger("pjax:clicked",[h]))}}function d(b,c,d){d=p(c,d);var f=b.currentTarget;if("FORM"!==f.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var g={type:f.method.toUpperCase(),url:f.action,container:a(f).attr("data-pjax"),target:f};if("GET"!==g.type&&void 0!==window.FormData)g.data=new FormData(f),g.processData=!1,g.contentType=!1;else{if(a(f).find(":file").length)return;g.data=a(f).serializeArray()}e(a.extend({},g,d)),b.preventDefault()}function e(b){function c(b,c,e){e||(e={}),e.relatedTarget=d;var f=a.Event(b,e);return h.trigger(f,c),!f.isDefaultPrevented()}b=a.extend(!0,{},a.ajaxSettings,e.defaults,b),a.isFunction(b.url)&&(b.url=b.url());var d=b.target,f=n(b.url).hash,h=b.context=q(b.container);b.data||(b.data={}),a.isArray(b.data)?b.data.push({name:"_p",value:h.selector}):b.data._p=h.selector;var i;b.beforeSend=function(a,d){if("GET"!==d.type&&(d.timeout=0),a.setRequestHeader("X-PJAX","true"),a.setRequestHeader("X-PJAX-Container",h.selector),!c("pjax:beforeSend",[a,d]))return!1;d.timeout>0&&(i=setTimeout(function(){c("pjax:timeout",[a,b])&&a.abort("timeout")},d.timeout),d.timeout=0);var e=n(d.url);f&&(e.hash=f),b.requestUrl=m(e)},b.complete=function(a,d){i&&clearTimeout(i),c("pjax:complete",[a,d,b]),c("pjax:end",[a,b])},b.error=function(a,d,e){var f=t("",a,b),h=c("pjax:error",[a,d,e,b]);"GET"==b.type&&"abort"!==d&&h&&g(f.url)},b.success=function(d,i,j){var l=e.state,m="function"==typeof a.pjax.defaults.version?a.pjax.defaults.version():a.pjax.defaults.version,o=j.getResponseHeader("X-PJAX-Version"),p=t(d,j,b),q=n(p.url);if(f&&(q.hash=f,p.url=q.href),m&&o&&m!==o)return void g(p.url);if(!p.contents)return void g(p.url);e.state={id:b.id||k(),url:p.url,title:p.title,container:h.selector,fragment:b.fragment,timeout:b.timeout},(b.push||b.replace)&&window.history.replaceState(e.state,p.title,p.url);var r=a.contains(b.container,document.activeElement);if(r)try{document.activeElement.blur()}catch(s){}p.title&&(document.title=p.title),c("pjax:beforeReplace",[p.contents,b],{state:e.state,previousState:l}),h.html(p.contents);var v=h.find("input[autofocus], textarea[autofocus]").last()[0];v&&document.activeElement!==v&&v.focus(),u(p.scripts);var w=b.scrollTo;if(f){var x=decodeURIComponent(f.slice(1)),y=document.getElementById(x)||document.getElementsByName(x)[0];y&&(w=a(y).offset().top)}"number"==typeof w&&a(window).scrollTop(w),c("pjax:success",[d,i,j,b])},e.state||(e.state={id:k(),url:window.location.href,title:document.title,container:h.selector,fragment:b.fragment,timeout:b.timeout},window.history.replaceState(e.state,document.title)),j(e.xhr),e.options=b;var o=e.xhr=a.ajax(b);return o.readyState>0&&(b.push&&!b.replace&&(v(e.state.id,l(h)),window.history.pushState(null,"",b.requestUrl)),c("pjax:start",[o,b]),c("pjax:send",[o,b])),e.xhr}function f(b,c){var d={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return e(a.extend(d,p(b,c)))}function g(a){window.history.replaceState(null,"",e.state.url),window.location.replace(a)}function h(b){B||j(e.xhr);var c,d=e.state,f=b.state;if(f&&f.container){if(B&&C==f.url)return;if(d){if(d.id===f.id)return;c=d.id<f.id?"forward":"back"}var h=E[f.id]||[],i=a(h[0]||f.container),k=h[1];if(i.length){d&&w(c,d.id,l(i));var m=a.Event("pjax:popstate",{state:f,direction:c});i.trigger(m);var n={id:f.id,url:f.url,container:i,push:!1,fragment:f.fragment,timeout:f.timeout,scrollTo:!1};if(k){i.trigger("pjax:start",[null,n]),e.state=f,f.title&&(document.title=f.title);var o=a.Event("pjax:beforeReplace",{state:f,previousState:d});i.trigger(o,[k,n]),i.html(k),i.trigger("pjax:end",[null,n])}else e(n);i[0].offsetHeight}else g(location.href)}B=!1}function i(b){var c=a.isFunction(b.url)?b.url():b.url,d=b.type?b.type.toUpperCase():"GET",e=a("<form>",{method:"GET"===d?"GET":"POST",action:c,style:"display:none"});"GET"!==d&&"POST"!==d&&e.append(a("<input>",{type:"hidden",name:"_method",value:d.toLowerCase()}));var f=b.data;if("string"==typeof f)a.each(f.split("&"),function(b,c){var d=c.split("=");e.append(a("<input>",{type:"hidden",name:d[0],value:d[1]}))});else if(a.isArray(f))a.each(f,function(b,c){e.append(a("<input>",{type:"hidden",name:c.name,value:c.value}))});else if("object"==typeof f){var g;for(g in f)e.append(a("<input>",{type:"hidden",name:g,value:f[g]}))}a(document.body).append(e),e.submit()}function j(b){b&&b.readyState<4&&(b.onreadystatechange=a.noop,b.abort())}function k(){return(new Date).getTime()}function l(a){var b=a.clone();return b.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[a.selector,b.contents()]}function m(a){return a.search=a.search.replace(/([?&])(_p|_)=[^&]*/g,""),a.href.replace(/\?($|#)/,"$1")}function n(a){var b=document.createElement("a");return b.href=a,b}function o(a){return a.href.replace(/#.*/,"")}function p(b,c){return b&&c?c.container=b:c=a.isPlainObject(b)?b:{container:b},c.container&&(c.container=q(c.container)),c}function q(b){if(b=a(b),b.length){if(""!==b.selector&&b.context===document)return b;if(b.attr("id"))return a("#"+b.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+b.selector}function r(a,b){return a.filter(b).add(a.find(b))}function s(b){return a.parseHTML(b,document,!0)}function t(b,c,d){var e={},f=/<html/i.test(b),g=c.getResponseHeader("X-PJAX-URL");if(e.url=g?m(n(g)):d.requestUrl,f)var h=a(s(b.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),i=a(s(b.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var h=i=a(s(b));if(0===i.length)return e;if(e.title=r(h,"title").last().text(),d.fragment){if("body"===d.fragment)var j=i;else var j=r(i,d.fragment).first();j.length&&(e.contents="body"===d.fragment?j:j.contents(),e.title||(e.title=j.attr("title")||j.data("title")))}else f||(e.contents=i);return e.contents&&(e.contents=e.contents.not(function(){return a(this).is("title")}),e.contents.find("title").remove(),e.scripts=r(e.contents,"script[src]").remove(),e.contents=e.contents.not(e.scripts)),e.title&&(e.title=a.trim(e.title)),e}function u(b){if(b){var c=a("script[src]");b.each(function(){var b=this.src,d=c.filter(function(){return this.src===b});if(!d.length){var e=document.createElement("script"),f=a(this).attr("type");f&&(e.type=f),e.src=a(this).attr("src"),document.head.appendChild(e)}})}}function v(a,b){E[a]=b,G.push(a),x(F,0),x(G,e.defaults.maxCacheLength)}function w(a,b,c){var d,f;E[b]=c,"forward"===a?(d=G,f=F):(d=F,f=G),d.push(b),(b=f.pop())&&delete E[b],x(d,e.defaults.maxCacheLength)}function x(a,b){for(;a.length>b;)delete E[a.shift()]}function y(){return a("meta").filter(function(){var b=a(this).attr("http-equiv");return b&&"X-PJAX-VERSION"===b.toUpperCase()}).attr("content")}function z(){a.fn.pjax=b,a.pjax=e,a.pjax.enable=a.noop,a.pjax.disable=A,a.pjax.click=c,a.pjax.submit=d,a.pjax.reload=f,a.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:y},a(window).on("popstate.pjax",h)}function A(){a.fn.pjax=function(){return this},a.pjax=i,a.pjax.enable=z,a.pjax.disable=a.noop,a.pjax.click=a.noop,a.pjax.submit=a.noop,a.pjax.reload=function(){window.location.reload()},a(window).off("popstate.pjax",h)}var B=!0,C=window.location.href,D=window.history.state;D&&D.container&&(e.state=D),"state"in window.history&&(B=!1);var E={},F=[],G=[];a.inArray("state",a.event.props)<0&&a.event.props.push("state"),a.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),a.support.pjax?z():A()}(jQuery);