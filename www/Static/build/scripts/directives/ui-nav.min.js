/*! test_admin 2015-12-07 */
"use strict";angular.module("app").directive("uiNav",["$timeout",function(a){return{restrict:"AC",link:function(b,c,d){a(function(){angular.element(c.find("li.active a").attr("data-id")).css({display:"block"})},1),c.find("a").bind("click",function(c){var d=angular.element(this).parent();d.parent().find("li").removeClass("active"),d.toggleClass("active"),d.find("ul")&&(b.app.asideCollapse=!1);var e=angular.element(this.getAttribute("data-id")),f=angular.element(this).parent().parent().parent().parent();f.find("#profile-container .profile-pane").removeClass("active"),f.find("#profile-container .profile-pane").css({display:"none"}),e.css({display:"block"}),a(function(){e.toggleClass("active")},20)})}}}]).directive("ngThumb",["$window",function(a){var b={support:!(!a.FileReader||!a.CanvasRenderingContext2D),isFile:function(b){return angular.isObject(b)&&b instanceof a.File},isImage:function(a){var b="|"+a.type.slice(a.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(b)}};return{restrict:"A",template:"<canvas/>",link:function(a,c,d){function e(a){var b=new Image;b.onload=f,b.src=a.target.result}function f(){var a=g.width||this.width/this.height*g.height,b=g.height||this.height/this.width*g.width;h.attr({width:a,height:b}),h.css({"max-width":"100%"}),h[0].getContext("2d").drawImage(this,0,0,a,b)}if(b.support){var g=a.$eval(d.ngThumb);if(b.isFile(g.file)&&b.isImage(g.file)){var h=c.find("canvas"),i=new FileReader;i.onload=e,i.readAsDataURL(g.file)}}}}}]);